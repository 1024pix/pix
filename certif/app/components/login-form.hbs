<div class="login">

  <header class="login__header">
    <img src="/pix-certif-logo.svg" alt="Pix Certif" />

    <h1 class="page-title">{{t "pages.login.title"}}</h1>

    <p class="login-header__information">
      {{t "pages.login.accessible-to"}}
    </p>

    {{#if @hasInvitationAlreadyBeenAccepted}}
      <p class="login-header__invitation-error">{{t "pages.login.errors.invitation-already-accepted" htmlSafe=true}}</p>
    {{/if}}

    {{#if @isInvitationCancelled}}
      <p class="login-header__invitation-error">{{t "pages.login.errors.invitation-was-cancelled" htmlSafe=true}}</p>
    {{/if}}
  </header>

  <main class="login__main">

    <form class="login-main__form" {{on "submit" this.authenticate}}>

      <p class="login-main-form__mandatory-information">
        {{t "common.form-errors.mandatory-all-fields"}}
      </p>

      <PixInput
        @id="login-email"
        name="login"
        autocomplete="email"
        type="email"
        required="true"
        {{on "input" this.setEmail}}
      >
        <:label>{{t "common.forms.login.email"}}</:label>
      </PixInput>

      <PixInputPassword
        @id="login-password"
        name="password"
        autocomplete="current-password"
        required="true"
        {{on "input" this.setPassword}}
      >
        <:label>{{t "common.forms.login.password"}}</:label>
      </PixInputPassword>

      {{#if this.isErrorMessagePresent}}
        <div class="error-message">
          <p>{{this.errorMessage}}</p>
        </div>
      {{/if}}

      <PixButton @type="submit" class="login-main-form__button">
        {{t "pages.login.actions.login.label"}}
      </PixButton>

      <div class="login-main-form__forgotten-password">
        <a href={{this.forgottenPasswordUrl}} target="_blank" rel="noopener noreferrer" class="link">{{t
            "common.forms.login.forgot-password"
          }}</a>
      </div>
    </form>
  </main>
</div>
version: '3'

services:
  postgres:
    image: postgres:13.7-alpine
    container_name: pix-api-postgres
    ports:
      - '${PIX_DATABASE_PORT:-5432}:5432'
    environment:
      POSTGRES_HOST_AUTH_METHOD: trust

  redis:
    image: scalingo/redis:6.2.5-1
    container_name: pix-api-redis
    command: /redis
    ports:
      - '${PIX_CACHE_PORT:-6379}:6379'
    environment:
      DB_PASSWORD: secret

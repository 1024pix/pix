# exactly match the / URI
location = / {
  root /app/dist/;
}

# all the other URIs
location / {
  root /app/dist/;
  # try_files try to load the file of the URI, and if it fails, it serve the / URI
  # => in our case, if the uri is not found, it means that's an Ember URL and just return the index
  # => BECAUSE / is not a file, this would make a infinite redirection loop. So we need the first block without try_files
  try_files $uri /;
}

'use strict';
const faker = require('faker');
const _ = require('lodash');

const DatabaseBuilder = require('../../tests/tooling/database-builder/database-builder');

const answersBuilder = require('./data/answers-builder');
const assessmentsBuilder = require('./data/assessments-builder');
const buildPixAileProfile = require('./data/pix-aile-profile-builder');
const campaignParticipationsBuilder = require('./data/campaign-participations-builder');
const campaignsBuilder = require('./data/campaigns-builder');
const { certificationCandidatesBuilder } = require('./data/certification/certification-candidates-builder');
const { badgeAcquisitionBuilder } = require('./data/certification/badge-acquisition-builder');
const { partnerCertificationBuilder } = require('./data/certification/partner-certification-builder');
const { certificationCentersBuilder } = require('./data/certification/certification-centers-builder');
const { certificationCoursesBuilder } = require('./data/certification/certification-courses-builder');
const certificationScoresBuilder = require('./data/certification/certification-scores-builder');
const { certificationSessionsBuilder } = require('./data/certification/certification-sessions-builder');
const { certificationUsersBuilder } = require('./data/certification/users');
const certificationUserProfilesBuilder = require('./data/certification/user-profiles-builder');
const certificationCenterMembershipsBuilder = require('./data/certification/certification-center-memberships-builder');
const organizationsProBuilder = require('./data/organizations-pro-builder');
const organizationsScoBuilder = require('./data/organizations-sco-builder');
const organizationsSupBuilder = require('./data/organizations-sup-builder');
const pixAileBuilder = require('./data/pix-aile-builder');
const { badgesBuilder } = require('./data/badges-builder');
const { pixEmploiTargetProfileBuilder } = require('./data/pix-emploi-target-profile-builder');
const tagsBuilder = require('./data/tags-builder');
const targetProfilesBuilder = require('./data/target-profiles-builder');
const { usersBuilder } = require('./data/users-builder');
const usersPixRolesBuilder = require('./data/users_pix_roles-builder');
const stagesBuilder = require('./data/stages-builder');

const SEQUENCE_RESTART_AT_NUMBER = 10000000;
const SEED_NUMBER = 20110228;

exports.seed = (knex) => {
  faker.seed(SEED_NUMBER);

  const databaseBuilder = new DatabaseBuilder({ knex });

  // Users
  usersBuilder({ databaseBuilder });
  usersPixRolesBuilder({ databaseBuilder });
  pixAileBuilder({ databaseBuilder });

  // Organizations
  tagsBuilder({ databaseBuilder });
  organizationsProBuilder({ databaseBuilder });
  organizationsScoBuilder({ databaseBuilder });
  organizationsSupBuilder({ databaseBuilder });

  // Target Profiles
  targetProfilesBuilder({ databaseBuilder });
  pixEmploiTargetProfileBuilder({ databaseBuilder });
  badgesBuilder({ databaseBuilder });

  // Certifications
  certificationCentersBuilder({ databaseBuilder });
  certificationUsersBuilder({ databaseBuilder });
  certificationCenterMembershipsBuilder({ databaseBuilder });
  certificationUserProfilesBuilder({ databaseBuilder });
  certificationSessionsBuilder({ databaseBuilder });
  certificationCandidatesBuilder({ databaseBuilder });
  certificationCoursesBuilder({ databaseBuilder });
  certificationScoresBuilder({ databaseBuilder });
  badgeAcquisitionBuilder({ databaseBuilder });
  partnerCertificationBuilder({ databaseBuilder });

  // Éléments de parcours
  campaignsBuilder({ databaseBuilder });
  campaignParticipationsBuilder({ databaseBuilder });
  assessmentsBuilder({ databaseBuilder });
  answersBuilder({ databaseBuilder });
  stagesBuilder({ databaseBuilder });

  // Éléments de parcours pour l'utilisateur Pix Aile
  buildPixAileProfile({ databaseBuilder });


  const userId = databaseBuilder.factory.buildUser.withUnencryptedPassword({
    id: 1122,
    firstName: 'Pierre',
    lastName: 'Dupont',
    email: 'pierre@example.net',
    rawPassword: 'pix123',
    cgu: true,
  }).id;

  const assessmentId = databaseBuilder.factory.buildAssessment({ userId, type: 'COMPETENCE_EVALUATION', state: 'completed'}).id;
  _.each([{ source: 'direct', skillId: 'rec4Gvnh9kV1NeMsw', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:15.454+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'rec15bDuL5GcwY3WL', updatedAt: new Date('2020-06-18 13:07:15.451+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recUQSpjuDvwqKMst', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.141+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recIAeaN5waLGghvV', updatedAt: new Date('2020-06-18 13:07:16.137+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recBsT8BoStvZP6av', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.142+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recIAeaN5waLGghvV', updatedAt: new Date('2020-06-18 13:07:16.137+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recPgkHUdzk0HPGt1', earnedPix: 2.6666667, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.142+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recIAeaN5waLGghvV', updatedAt: new Date('2020-06-18 13:07:16.137+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'reclX9KELFBQeVKoC', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.142+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recIAeaN5waLGghvV', updatedAt: new Date('2020-06-18 13:07:16.137+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recUOBCzy4BmKyZs6', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.795+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recsqHDRzuajW06IN', updatedAt: new Date('2020-06-18 13:07:16.789+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec50IhKadDxbvjES', earnedPix: 2.6666667, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.795+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recsqHDRzuajW06IN', updatedAt: new Date('2020-06-18 13:07:16.789+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec6QF6wqqkQn9dN3', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.795+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recsqHDRzuajW06IN', updatedAt: new Date('2020-06-18 13:07:16.789+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recRV35kIeqUQj8cI', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.795+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recsqHDRzuajW06IN', updatedAt: new Date('2020-06-18 13:07:16.789+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recfQIxf8y4Nrs6M1', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:16.795+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recsqHDRzuajW06IN', updatedAt: new Date('2020-06-18 13:07:16.789+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recKbi4ppZT0Nb148', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:17.391+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recmg7cPny2ufrIw9', updatedAt: new Date('2020-06-18 13:07:17.388+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recJLroTYxcfbczfW', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:17.391+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recmg7cPny2ufrIw9', updatedAt: new Date('2020-06-18 13:07:17.388+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recsPpUso9cY2u1I8', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:17.391+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recmg7cPny2ufrIw9', updatedAt: new Date('2020-06-18 13:07:17.388+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recuE3dO6Qjnfbu2y', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:17.391+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recmg7cPny2ufrIw9', updatedAt: new Date('2020-06-18 13:07:17.388+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec50NXHkatsRkjVQ', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:18.093+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recLt9uwa2dR3IYpi', updatedAt: new Date('2020-06-18 13:07:18.09+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec9qal2FLjWysrfu', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:18.094+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recLt9uwa2dR3IYpi', updatedAt: new Date('2020-06-18 13:07:18.09+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rechRPFlSryfY3UnG', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:18.094+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recLt9uwa2dR3IYpi', updatedAt: new Date('2020-06-18 13:07:18.09+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'reciDyXWqxp7ypbWu', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:18.094+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recLt9uwa2dR3IYpi', updatedAt: new Date('2020-06-18 13:07:18.09+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'receCqeeb7z5X4nlK', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.116+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recXukPAEUqBaiauX', updatedAt: new Date('2020-06-18 13:07:19.113+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec6nFUI1Pxrd74NV', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.117+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recXukPAEUqBaiauX', updatedAt: new Date('2020-06-18 13:07:19.113+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'reccoWeM1JxCaILgA', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.118+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recXukPAEUqBaiauX', updatedAt: new Date('2020-06-18 13:07:19.113+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'reczOCGv8pz976Acl', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.118+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recXukPAEUqBaiauX', updatedAt: new Date('2020-06-18 13:07:19.113+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recPYmDRn4cXZ1nrO', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.945+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'reckfS9xi3v64Zle8', updatedAt: new Date('2020-06-18 13:07:19.94+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recD01ptfJy7c4Sex', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.945+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'reckfS9xi3v64Zle8', updatedAt: new Date('2020-06-18 13:07:19.94+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recDMMeHSZRCjqo5x', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.945+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'reckfS9xi3v64Zle8', updatedAt: new Date('2020-06-18 13:07:19.94+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec1xAgCoZux1Lxq8', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:19.945+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'reckfS9xi3v64Zle8', updatedAt: new Date('2020-06-18 13:07:19.94+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recxqogrKZ9p8b1u8', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:20.715+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'receQ1IcSG5g7l8WV', updatedAt: new Date('2020-06-18 13:07:20.711+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recRPl7tXR8n2D5xU', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:20.715+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'receQ1IcSG5g7l8WV', updatedAt: new Date('2020-06-18 13:07:20.711+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recYLxHqrLVUBjF2a', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:20.715+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'receQ1IcSG5g7l8WV', updatedAt: new Date('2020-06-18 13:07:20.711+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recnLN4ZCdZdTC32I', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:20.716+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'receQ1IcSG5g7l8WV', updatedAt: new Date('2020-06-18 13:07:20.711+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'reci0phtJi0lvqW9j', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:21.341+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recBlaoTKdzwnL3Hj', updatedAt: new Date('2020-06-18 13:07:21.339+00'), elapsedTime: 0, timeout: null, resultDetails: 'an: true tit: true ' },
  { source: 'inferred', skillId: 'recL4pRDGJZhgxsEL', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:21.341+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recBlaoTKdzwnL3Hj', updatedAt: new Date('2020-06-18 13:07:21.339+00'), elapsedTime: 0, timeout: null, resultDetails: 'an: true tit: true ' },
  { source: 'inferred', skillId: 'recMOxOdfesur8E7L', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:21.341+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recBlaoTKdzwnL3Hj', updatedAt: new Date('2020-06-18 13:07:21.339+00'), elapsedTime: 0, timeout: null, resultDetails: 'an: true tit: true ' },
  { source: 'inferred', skillId: 'recybd8jWDNiFpbgq', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:21.341+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recBlaoTKdzwnL3Hj', updatedAt: new Date('2020-06-18 13:07:21.339+00'), elapsedTime: 0, timeout: null, resultDetails: 'an: true tit: true ' },
  { source: 'direct', skillId: 'recQWQaXfncwqbFkt', earnedPix: 0.72727275, status: 'validated', createdAt: new Date('2020-06-18 13:07:23.078+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recI5p7pSkCF79UO0', updatedAt: new Date('2020-06-18 13:07:23.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recOrdJPMeAtA9Zse', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:23.078+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recI5p7pSkCF79UO0', updatedAt: new Date('2020-06-18 13:07:23.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recfgLbm9PTegrNCM', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:07:23.078+00'), competenceId: 'recsvLz0W2ShyfD63', result: 'ok', challengeId: 'recI5p7pSkCF79UO0', updatedAt: new Date('2020-06-18 13:07:23.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec9uQTL8ZFm1rSTY', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:07:32.192+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recit8wIdJWcSS34v', updatedAt: new Date('2020-06-18 13:07:32.189+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recH8iHKeJ5iws289', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:07:32.193+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recit8wIdJWcSS34v', updatedAt: new Date('2020-06-18 13:07:32.189+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recaMBgjv3EZnAlWO', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:07:32.965+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recEGAyb8QYxi1dYQ', updatedAt: new Date('2020-06-18 13:07:32.961+00'), elapsedTime: 0, timeout: null, resultDetails: 'n1: true n2: true n3: true ' },
  { source: 'inferred', skillId: 'recAFoEonOOChXe9t', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:07:32.965+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recEGAyb8QYxi1dYQ', updatedAt: new Date('2020-06-18 13:07:32.961+00'), elapsedTime: 0, timeout: null, resultDetails: 'n1: true n2: true n3: true ' },
  { source: 'inferred', skillId: 'rececWx6MmPhufxXk', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:07:32.965+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recEGAyb8QYxi1dYQ', updatedAt: new Date('2020-06-18 13:07:32.961+00'), elapsedTime: 0, timeout: null, resultDetails: 'n1: true n2: true n3: true ' },
  { source: 'direct', skillId: 'recY83MJTaTD20yXO', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:07:33.67+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recXE4JOGAD2FowPd', updatedAt: new Date('2020-06-18 13:07:33.668+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec20FAdFNyMSJVig', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:07:45.002+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'aband', challengeId: 'rec1zbqjSszDhS2AM', updatedAt: new Date('2020-06-18 13:07:45+00'), elapsedTime: 10, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec1iQJ8tNv1ctaBY', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:07:45.002+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'aband', challengeId: 'rec1zbqjSszDhS2AM', updatedAt: new Date('2020-06-18 13:07:45+00'), elapsedTime: 10, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recQKmh4OA4aV92tU', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:46.513+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'rec5V5AqKJ0XyTmrh', updatedAt: new Date('2020-06-18 13:07:46.511+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec2sGcOI59S4zdIR', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:07:46.514+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'rec5V5AqKJ0XyTmrh', updatedAt: new Date('2020-06-18 13:07:46.511+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec1C94W8FuHElIOl', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:07:46.514+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'rec5V5AqKJ0XyTmrh', updatedAt: new Date('2020-06-18 13:07:46.511+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec1kfcpcG2UGSeYD', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:07:51.146+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'aband', challengeId: 'rec1lZCtQrj8FBXfd', updatedAt: new Date('2020-06-18 13:07:51.144+00'), elapsedTime: 3, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recrFCl1Ng8YUaba2', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:52.672+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recLTXhETM4sqFTze', updatedAt: new Date('2020-06-18 13:07:52.67+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recAYxA5gWod1vtgi', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:07:52.672+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recLTXhETM4sqFTze', updatedAt: new Date('2020-06-18 13:07:52.67+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recBd7hji2Ev2MOoF', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:07:52.672+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recLTXhETM4sqFTze', updatedAt: new Date('2020-06-18 13:07:52.67+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recOYQhD9e6c3YkPu', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:53.325+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'rec3IjUDBEbjI9FeZ', updatedAt: new Date('2020-06-18 13:07:53.323+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec8Ot7GXqSJLn99A', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:07:53.326+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'rec3IjUDBEbjI9FeZ', updatedAt: new Date('2020-06-18 13:07:53.323+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recfLCMH1SrC4tT3A', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:54.504+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recw59mL3w1kOLIqd', updatedAt: new Date('2020-06-18 13:07:54.502+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec2cSfPgCxi6VTTh', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:07:54.505+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recw59mL3w1kOLIqd', updatedAt: new Date('2020-06-18 13:07:54.502+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec1EM9oLKC6itxs0', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:07:58.696+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'aband', challengeId: 'rec2El2Ko6h2bzC03', updatedAt: new Date('2020-06-18 13:07:58.694+00'), elapsedTime: 3, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recLYUZrWeizc4G5d', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:07:59.908+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recWaMrkPh1Ne8L4Q', updatedAt: new Date('2020-06-18 13:07:59.906+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recixKw4lXIiHue01', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:07:59.909+00'), competenceId: 'recFpYXCKcyhLI3Nu', result: 'ok', challengeId: 'recWaMrkPh1Ne8L4Q', updatedAt: new Date('2020-06-18 13:07:59.906+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec7EvARki1b9t574', earnedPix: 2.6666667, status: 'validated', createdAt: new Date('2020-06-18 13:08:07.033+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recGZ7JIy9ifwg9DE', updatedAt: new Date('2020-06-18 13:08:07.031+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec2RonVAUbKJGx91', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:09.965+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec2yvrka0V4YjjOc', updatedAt: new Date('2020-06-18 13:08:09.962+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec18tVfyux5wwHwN', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:09.965+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec2yvrka0V4YjjOc', updatedAt: new Date('2020-06-18 13:08:09.962+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec1C35ATtxAcUYwO', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:13.026+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec1ahgbdjJDdMvUz', updatedAt: new Date('2020-06-18 13:08:13.024+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec2PfCtfenqXQSnW', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:13.026+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec1ahgbdjJDdMvUz', updatedAt: new Date('2020-06-18 13:08:13.024+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec2n0Riii6FCBoBQ', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:13.026+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec1ahgbdjJDdMvUz', updatedAt: new Date('2020-06-18 13:08:13.024+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec6IWrDOSaoX4aLn', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:14.262+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'rec0CRyov27fooyun', updatedAt: new Date('2020-06-18 13:08:14.26+00'), elapsedTime: 0, timeout: null, resultDetails: 'auteur: true nbre: true ' },
  { source: 'direct', skillId: 'recHo6D1spbDR9C2N', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:16.277+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recKVDoGz1cKdLsZs', updatedAt: new Date('2020-06-18 13:08:16.275+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec4gk0caF0FsTUdU', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:16.277+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recKVDoGz1cKdLsZs', updatedAt: new Date('2020-06-18 13:08:16.275+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec7WOXWi5ClE8BxH', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:16.277+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recKVDoGz1cKdLsZs', updatedAt: new Date('2020-06-18 13:08:16.275+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec2A5WpqRKEMMbUK', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:19.425+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec25oIe6a19Ahn11', updatedAt: new Date('2020-06-18 13:08:19.422+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recp7rTXpecbxjE5d', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:21.031+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recYME7Vr3ou3PjRv', updatedAt: new Date('2020-06-18 13:08:21.029+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recqSPZiRJYzfCDaS', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:21.031+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recYME7Vr3ou3PjRv', updatedAt: new Date('2020-06-18 13:08:21.029+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recXbHW1c8aMwoagT', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:21.693+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recCCGPxmaUarxm6Y', updatedAt: new Date('2020-06-18 13:08:21.691+00'), elapsedTime: 0, timeout: null, resultDetails: 'mot1: true mot2: true ' },
  { source: 'inferred', skillId: 'recBKuSRYggYb2T5K', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:21.693+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recCCGPxmaUarxm6Y', updatedAt: new Date('2020-06-18 13:08:21.691+00'), elapsedTime: 0, timeout: null, resultDetails: 'mot1: true mot2: true ' },
  { source: 'direct', skillId: 'rec2h2MgU6BKQf6l0', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:24.148+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec1eoQXI3hbKAKCF', updatedAt: new Date('2020-06-18 13:08:24.146+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec2MXgC45TBYLTnx', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:29.025+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'aband', challengeId: 'rec1fUObXrgUsiwlx', updatedAt: new Date('2020-06-18 13:08:29.022+00'), elapsedTime: 3, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recXB6EWWAaRGDvXZ', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:30.37+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recYGItMxAoG56qo8', updatedAt: new Date('2020-06-18 13:08:30.367+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec7GcwMyDXNv7EM4', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:32.083+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'recXdQ6racGj3Vw7o', updatedAt: new Date('2020-06-18 13:08:32.081+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recKMILeYBWZUg0XX', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:47.589+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'recZPEs7f3LjR4Gp', updatedAt: new Date('2020-06-18 13:08:47.586+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec5D35kIp7THYAqy', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:47.589+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'recZPEs7f3LjR4Gp', updatedAt: new Date('2020-06-18 13:08:47.586+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recQ8AB9UswqvNsZQ', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:47.589+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'recZPEs7f3LjR4Gp', updatedAt: new Date('2020-06-18 13:08:47.586+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'reclGVSnTOG0mwy4T', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:47.589+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'recZPEs7f3LjR4Gp', updatedAt: new Date('2020-06-18 13:08:47.586+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec4M2dA9Z1xU3Ql3', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:49.953+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recXQRtSOS1sn8PiD', updatedAt: new Date('2020-06-18 13:08:49.95+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recYg6gz6vBLhbibA', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:49.953+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recXQRtSOS1sn8PiD', updatedAt: new Date('2020-06-18 13:08:49.95+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recQrIZ1YN7TEB4sa', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:15.142+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'reckt4dC4uCpnLGD4', updatedAt: new Date('2020-06-18 13:08:15.139+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recR1SlS7sWoquhoC', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:15.142+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'reckt4dC4uCpnLGD4', updatedAt: new Date('2020-06-18 13:08:15.139+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recwOLZ8bzMQK9NF9', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:30.95+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'rec3x9g09cklkRFuZ', updatedAt: new Date('2020-06-18 13:08:30.948+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recXDYAkqqIDCDePc', earnedPix: 2.6666667, status: 'validated', createdAt: new Date('2020-06-18 13:08:30.95+00'), competenceId: 'recMiZPNl7V1hyE1d', result: 'ok', challengeId: 'rec3x9g09cklkRFuZ', updatedAt: new Date('2020-06-18 13:08:30.948+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec1QAbVAHJYpAcel', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:38.585+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec12RR6OgvTDXk1M', updatedAt: new Date('2020-06-18 13:08:38.582+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recHq4RjqRYcj1a2D', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:38.585+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec12RR6OgvTDXk1M', updatedAt: new Date('2020-06-18 13:08:38.582+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec2T1n77YfrLElsA', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:38.585+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec12RR6OgvTDXk1M', updatedAt: new Date('2020-06-18 13:08:38.582+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recZpt6xx6yHwHhrK', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:38.585+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec12RR6OgvTDXk1M', updatedAt: new Date('2020-06-18 13:08:38.582+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recvzoPoMx8sjqsMm', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:38.585+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec12RR6OgvTDXk1M', updatedAt: new Date('2020-06-18 13:08:38.582+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec9Mr8BXJeEZc0tO', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:43.416+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recgaM9thmu7t3qnj', updatedAt: new Date('2020-06-18 13:08:43.413+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recFAdmQ99c9zuPwo', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:43.416+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recgaM9thmu7t3qnj', updatedAt: new Date('2020-06-18 13:08:43.413+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recGenmOM7yaENRPa', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:43.416+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recgaM9thmu7t3qnj', updatedAt: new Date('2020-06-18 13:08:43.413+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recxtb5aLs6OAAKIg', earnedPix: 1.1428572, status: 'validated', createdAt: new Date('2020-06-18 13:10:00.473+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recc5UqeY4C6YWepz', updatedAt: new Date('2020-06-18 13:10:00.47+00'), elapsedTime: 9, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recX7RyCsdNV2p168', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:10:00.473+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recc5UqeY4C6YWepz', updatedAt: new Date('2020-06-18 13:10:00.47+00'), elapsedTime: 9, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recXO3Ei4vf25mJE7', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:41.448+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec143UwrnUo9fVw7', updatedAt: new Date('2020-06-18 13:08:41.445+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec3wTu36JBVMu70s', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:41.448+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec143UwrnUo9fVw7', updatedAt: new Date('2020-06-18 13:08:41.445+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recCQPm1mgdexw3jV', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:41.448+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec143UwrnUo9fVw7', updatedAt: new Date('2020-06-18 13:08:41.445+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recVfp1idTGE727dl', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:41.448+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec143UwrnUo9fVw7', updatedAt: new Date('2020-06-18 13:08:41.445+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recqUtUE0mrjZYmcI', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:41.448+00'), competenceId: 'rece6jYwH4WEw549z', result: 'aband', challengeId: 'rec143UwrnUo9fVw7', updatedAt: new Date('2020-06-18 13:08:41.445+00'), elapsedTime: 2, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recPHVXSwiHk4VMFI', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:42.569+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recjGV2rzK34Zgw6W', updatedAt: new Date('2020-06-18 13:08:42.566+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recRIm4iNiaz6epT5', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:42.569+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recjGV2rzK34Zgw6W', updatedAt: new Date('2020-06-18 13:08:42.566+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec2ly5HOi7hx1ZEb', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:43.908+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recImNPzruZ7OWg5h', updatedAt: new Date('2020-06-18 13:08:43.906+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recCpeDcndYplSnL9', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:43.908+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recImNPzruZ7OWg5h', updatedAt: new Date('2020-06-18 13:08:43.906+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recJunGPv2h9qfs7A', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:43.909+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recImNPzruZ7OWg5h', updatedAt: new Date('2020-06-18 13:08:43.906+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec4IOzZc5uaGmR6x', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:49.382+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recITec6fgZxmq7HI', updatedAt: new Date('2020-06-18 13:08:49.38+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rec6wfzMTe5bUv8Hg', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:08:49.382+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recITec6fgZxmq7HI', updatedAt: new Date('2020-06-18 13:08:49.38+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recMMszscECFfMfc5', earnedPix: 1.6, status: 'validated', createdAt: new Date('2020-06-18 13:08:49.382+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recITec6fgZxmq7HI', updatedAt: new Date('2020-06-18 13:08:49.38+00'), elapsedTime: 1, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec0yRznVM0AXMI88', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:50.676+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recH1arkwwFyyw2Uj', updatedAt: new Date('2020-06-18 13:08:50.674+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rectLNULqnZz37Ifp', earnedPix: 0.8888889, status: 'validated', createdAt: new Date('2020-06-18 13:08:51.404+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recKbvCmDqcvIEYQa', updatedAt: new Date('2020-06-18 13:08:51.402+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recqbbWRkS1f6BIEh', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:08:51.405+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ok', challengeId: 'recKbvCmDqcvIEYQa', updatedAt: new Date('2020-06-18 13:08:51.402+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'rec4o5Bx8HWwiCPud', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:53.376+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ko', challengeId: 'recqyroTiaK14qK3p', updatedAt: new Date('2020-06-18 13:08:53.373+00'), elapsedTime: 1, timeout: null, resultDetails: 'jour: false moment: false ' },
  { source: 'inferred', skillId: 'recbo5eWmOnUfs4Hr', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:53.376+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ko', challengeId: 'recqyroTiaK14qK3p', updatedAt: new Date('2020-06-18 13:08:53.373+00'), elapsedTime: 1, timeout: null, resultDetails: 'jour: false moment: false ' },
  { source: 'direct', skillId: 'recaPu88TEBjmywdf', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:54.083+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ko', challengeId: 'recAD288VsQeyBDUE', updatedAt: new Date('2020-06-18 13:08:54.081+00'), elapsedTime: 0, timeout: null, resultDetails: 'mot11: false mot21: false gain: false ' },
  { source: 'inferred', skillId: 'rec8cUmkP1Ks9wzZU', earnedPix: 0, status: 'invalidated', createdAt: new Date('2020-06-18 13:08:54.083+00'), competenceId: 'rece6jYwH4WEw549z', result: 'ko', challengeId: 'recAD288VsQeyBDUE', updatedAt: new Date('2020-06-18 13:08:54.081+00'), elapsedTime: 0, timeout: null, resultDetails: 'mot11: false mot21: false gain: false ' },
  { source: 'direct', skillId: 'rece8ECIMBhHXgwo9', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:49.101+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recP5w2VLfwYHhHUU', updatedAt: new Date('2020-06-18 13:10:49.096+00'), elapsedTime: 47, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recemvSVcBRVpdSL8', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:49.101+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recP5w2VLfwYHhHUU', updatedAt: new Date('2020-06-18 13:10:49.096+00'), elapsedTime: 47, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recndXqXiv4pv2Ukp', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:10:49.101+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recP5w2VLfwYHhHUU', updatedAt: new Date('2020-06-18 13:10:49.096+00'), elapsedTime: 47, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'rectL2ZZeWPc7yezp', earnedPix: 1.1428572, status: 'validated', createdAt: new Date('2020-06-18 13:10:49.101+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recP5w2VLfwYHhHUU', updatedAt: new Date('2020-06-18 13:10:49.096+00'), elapsedTime: 47, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recYrgY9k62xChdt7', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:50.079+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rechh3Md8CqVUMBoV', updatedAt: new Date('2020-06-18 13:10:50.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recG8X4DGZXl7lUIx', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:50.079+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rechh3Md8CqVUMBoV', updatedAt: new Date('2020-06-18 13:10:50.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recLCYATl7TGrkZLh', earnedPix: 1.1428572, status: 'validated', createdAt: new Date('2020-06-18 13:10:50.079+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rechh3Md8CqVUMBoV', updatedAt: new Date('2020-06-18 13:10:50.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recclxUSbi0fvIWpd', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:10:50.079+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rechh3Md8CqVUMBoV', updatedAt: new Date('2020-06-18 13:10:50.076+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recy101VbUL835zA0', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:51.676+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recPlJKoTbxlCsyvK', updatedAt: new Date('2020-06-18 13:10:51.673+00'), elapsedTime: 0, timeout: null, resultDetails: 'syste: true processeur: true RAM1: true DD: true ecran: true res: true ' },
  { source: 'inferred', skillId: 'recORp2ieZhfQ02I5', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:51.676+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recPlJKoTbxlCsyvK', updatedAt: new Date('2020-06-18 13:10:51.673+00'), elapsedTime: 0, timeout: null, resultDetails: 'syste: true processeur: true RAM1: true DD: true ecran: true res: true ' },
  { source: 'inferred', skillId: 'recetgnhc67yFnWbl', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:10:51.676+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recPlJKoTbxlCsyvK', updatedAt: new Date('2020-06-18 13:10:51.673+00'), elapsedTime: 0, timeout: null, resultDetails: 'syste: true processeur: true RAM1: true DD: true ecran: true res: true ' },
  { source: 'inferred', skillId: 'recfLjzQKBD8Umdcx', earnedPix: 1.1428572, status: 'validated', createdAt: new Date('2020-06-18 13:10:51.676+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recPlJKoTbxlCsyvK', updatedAt: new Date('2020-06-18 13:10:51.673+00'), elapsedTime: 0, timeout: null, resultDetails: 'syste: true processeur: true RAM1: true DD: true ecran: true res: true ' },
  { source: 'direct', skillId: 'recCBkEOJVHpKos5m', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:52.35+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recsZFlvRHurkUsqF', updatedAt: new Date('2020-06-18 13:10:52.348+00'), elapsedTime: 0, timeout: null, resultDetails: 'nume1: true nume4: true nume2: true nume5: true ' },
  { source: 'inferred', skillId: 'recbhCa10f0cXOdbD', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:10:52.35+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recsZFlvRHurkUsqF', updatedAt: new Date('2020-06-18 13:10:52.348+00'), elapsedTime: 0, timeout: null, resultDetails: 'nume1: true nume4: true nume2: true nume5: true ' },
  { source: 'inferred', skillId: 'recinOcg9j0QI6MJS', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:10:52.351+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recsZFlvRHurkUsqF', updatedAt: new Date('2020-06-18 13:10:52.348+00'), elapsedTime: 0, timeout: null, resultDetails: 'nume1: true nume4: true nume2: true nume5: true ' },
  { source: 'inferred', skillId: 'recsOcGsdjIW4IpiV', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:52.351+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recsZFlvRHurkUsqF', updatedAt: new Date('2020-06-18 13:10:52.348+00'), elapsedTime: 0, timeout: null, resultDetails: 'nume1: true nume4: true nume2: true nume5: true ' },
  { source: 'direct', skillId: 'recJaYMeyJ4OAvSGy', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:54.311+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'reccEwkSAkyPd7e1H', updatedAt: new Date('2020-06-18 13:10:54.307+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recHj6176ImSsUpHC', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:10:54.311+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'reccEwkSAkyPd7e1H', updatedAt: new Date('2020-06-18 13:10:54.307+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recITZJDAxsYtxme3', earnedPix: 1.1428572, status: 'validated', createdAt: new Date('2020-06-18 13:10:54.311+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'reccEwkSAkyPd7e1H', updatedAt: new Date('2020-06-18 13:10:54.307+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recueyx9JLiq97Veu', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:10:54.311+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'reccEwkSAkyPd7e1H', updatedAt: new Date('2020-06-18 13:10:54.307+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recJVZI7g4Tkmf3yX', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:11:01.561+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rec12RWWnTiWhYq8t', updatedAt: new Date('2020-06-18 13:11:01.559+00'), elapsedTime: 5, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recELdSKFfMmsqknD', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:11:01.561+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rec12RWWnTiWhYq8t', updatedAt: new Date('2020-06-18 13:11:01.559+00'), elapsedTime: 5, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recIccYH3cLFmJNoQ', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:11:01.561+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rec12RWWnTiWhYq8t', updatedAt: new Date('2020-06-18 13:11:01.559+00'), elapsedTime: 5, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recd8sxdKeZAg7uN9', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:11:01.561+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'rec12RWWnTiWhYq8t', updatedAt: new Date('2020-06-18 13:11:01.559+00'), elapsedTime: 5, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recAfqVLbVnh1ZAtH', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:11:02.181+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recwzlKKb3cmHhaZo', updatedAt: new Date('2020-06-18 13:11:02.178+00'), elapsedTime: 0, timeout: null, resultDetails: 'prog1: true prog2: true ' },
  { source: 'inferred', skillId: 'recMOy4S8XnaWblYI', earnedPix: 2, status: 'validated', createdAt: new Date('2020-06-18 13:11:02.181+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recwzlKKb3cmHhaZo', updatedAt: new Date('2020-06-18 13:11:02.178+00'), elapsedTime: 0, timeout: null, resultDetails: 'prog1: true prog2: true ' },
  { source: 'inferred', skillId: 'recgUOf2tb8s9rAt2', earnedPix: 1, status: 'validated', createdAt: new Date('2020-06-18 13:11:02.181+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recwzlKKb3cmHhaZo', updatedAt: new Date('2020-06-18 13:11:02.178+00'), elapsedTime: 0, timeout: null, resultDetails: 'prog1: true prog2: true ' },
  { source: 'direct', skillId: 'recUeFXSJEAUKaaXf', earnedPix: 1.3333334, status: 'validated', createdAt: new Date('2020-06-18 13:11:03.296+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recChU2KrX5SourzQ', updatedAt: new Date('2020-06-18 13:11:03.293+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'recXWlIrXF467cALf', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:11:03.296+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recChU2KrX5SourzQ', updatedAt: new Date('2020-06-18 13:11:03.293+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'inferred', skillId: 'reckLgGIitzPoZRq5', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:11:03.296+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recChU2KrX5SourzQ', updatedAt: new Date('2020-06-18 13:11:03.293+00'), elapsedTime: 0, timeout: null, resultDetails: 'null ' },
  { source: 'direct', skillId: 'recLSD9yISZomwdjC', earnedPix: 0.8, status: 'validated', createdAt: new Date('2020-06-18 13:11:04.582+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recOqnJCnbrmi2prf', updatedAt: new Date('2020-06-18 13:11:04.578+00'), elapsedTime: 0, timeout: null, resultDetails: 'rep2: true rep3: true ' },
  { source: 'inferred', skillId: 'recfIhkzvfpslF8TO', earnedPix: 1.1428572, status: 'validated', createdAt: new Date('2020-06-18 13:11:04.582+00'), competenceId: 'recudHE5Omrr10qrx', result: 'ok', challengeId: 'recOqnJCnbrmi2prf', updatedAt: new Date('2020-06-18 13:11:04.578+00'), elapsedTime: 0, timeout: null, resultDetails: 'rep2: true rep3: true ' }], (it) => {
    const answerId = databaseBuilder.factory.buildAnswer({ ...it, assessmentId, value: 'Dummy value' }).id;
    databaseBuilder.factory.buildKnowledgeElement({ ...it, answerId, userId ,assessmentId });
  });

  console.log('PIERRE CREATED !!')

  return databaseBuilder.commit()
    .then(() => alterSequenceIfPG(knex));
};

/**
 * Inserting elements in PGSQL when specifying their ID does not update the sequence for that id.
 * THis results in id conflict errors when trying to insert a new elements in the base.
 * Making the sequences start at an arbitrary high number prevents the problem from happening for a time.
 * (time being enough for dev ou review apps - seed are not run on staging or prod)
 */
function alterSequenceIfPG(knex) {

  const isPG = process.env.DATABASE_URL || false;

  if (isPG) {
    return knex.raw('SELECT sequence_name FROM information_schema.sequences;')
      .then((sequenceNameQueryResult) => {
        const sequenceNames = sequenceNameQueryResult.rows.map((row) => row.sequence_name);

        const sequenceUpdatePromises = sequenceNames.map((sequenceName) => {
          return knex.raw(`ALTER SEQUENCE "${sequenceName}" RESTART WITH ${SEQUENCE_RESTART_AT_NUMBER};`);
        });
        return Promise.all(sequenceUpdatePromises);
      });
  }
}

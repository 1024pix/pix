<div class="page-section__panel">
  <div class="page-section__panel-header">
    <h3>
      <span class="item-number two"></span>
      Résultats
      <PixButton class="btn btn-outline-default" @action={{this.openScoringSimulator}} @loading-color="white">
        Ouvrir le simulateur de scoring
      </PixButton>
    </h3>
  </div>

  <div class="page-section__panel-body">
    <div class="highlight-block">
      <div class="entry-field">
        <label for="certification-score">Total (en pix) :</label>
        <Input @id="certification-score" @type="text" @value={{@certification.pixScore}} {{on 'change' @onChange}} />
      </div>
    </div>

    <div class="certification-competence-list">
      <div class="certification-competence-list__headers">
        <div class="certification-competence-list__header">Compétence</div>
        <div class="certification-competence-list__header">Score (en pix)</div>
        <div class="certification-competence-list__header">Niveau</div>
      </div>
      {{#each @certification.competencesWithMark as |competence key|}}
        <div class="certification-competence-list__row">
          <div class="certification-competence-list__cell">
            <span class="certification-competence-item__index">{{competence.competence_code}}</span>
          </div>
          <div class="certification-competence-list__cell">
            <Input class="certification-competence-item__score" @type="text" @value={{competence.score}} {{on 'change' @onChange}} />
          </div>
          <div class="certification-competence-list__cell">
            <Input class="certification-competence-item__level" @type="text" @value={{competence.level}} {{on 'change' @onChange}}/>
          </div>
        </div>
      {{/each}}
    </div>
  </div>
</div>

{{#if this.displayScoringSimulator}}
  <ModalDialog
      @targetAttachment="center"
      @translucentOverlay={{true}}
      @targetAttachment="none"
      @containerClass="centered-scrolling-container"
      @overlayClass="centered-scrolling-overlay"
      @wrapperClass="centered-scrolling-wrapper"
      @onClose={{this.closeScoringSimulator}}>

    <Certification::ScoringSimulator::CertificationScoringSimulator
        @certification={{@certification}}
        @details={{this.certificationDetails}}
        @onClose={{this.closeScoringSimulator}}
    />

  </ModalDialog>
{{/if}}

<div class="certification-list-page">

  <header class="certification-list-page__header">
    <h2 class="certification-list-page__title">Certifications</h2>
    <div class="btn-group certification-list-page__actions" role="group">

      <button class="btn btn-outline-default" {{action "onImport"}} type="button">
        {{fa-icon "file-import"}}
        {{#bs-tooltip}}Importer données (csv){{/bs-tooltip}}
      </button>
      {{input type='file' id='session-list__import-file' change=(action "onImportFileSelect")}}

      <button class="btn btn-outline-default" {{action "onExport"}} type="button">
        {{fa-icon "file-export"}}
        {{#bs-tooltip}}Exporter données (csv){{/bs-tooltip}}
      </button>

      <button class="btn btn-outline-default">
        {{#file-upload name="certification-session-report" onfileadd=(action "displayCertificationSessionReport")}}
          <a>
            {{fa-icon "notes-medical"}}
          </a>
        {{/file-upload}}
        {{#bs-tooltip}}Analyser PV (ods){{/bs-tooltip}}
      </button>

      <button class="btn btn-outline-default" {{action "onExportResults"}} type="button">
        {{fa-icon "coffee"}}
        {{#bs-tooltip}}Exporter résultats{{/bs-tooltip}}
      </button>

      {{#if showSelectedActions}}
        {{#bs-dropdown as |dd|}}
          {{#dd.button type='primary'}}Avec la sélection... <span class='caret'></span>{{/dd.button}}
          {{#dd.menu as |ddm|}}
            {{#ddm.item}}<span class='dropdown-item' {{action "onConfirmPublishSelected"}}>Publier</span>{{/ddm.item}}
            {{#ddm.item}}<span class='dropdown-item' {{action "onConfirmUnpublishSelected"}}>Dépublier</span>{{/ddm.item}}
          {{/dd.menu}}
        {{/bs-dropdown}}
      {{/if}}
    </div>
  </header>

  <div class="certification-list-page__body">
    {{certification-list certifications=model.certifications changeAction=(action "onListSelectionChange")}}
  </div>
</div>


{{#if progress}}
  <div class="session-list__progress">
    {{#bs-progress as |p|}}
      {{p.bar value=progressValue maxValue=progressMax}}
    {{/bs-progress}}
  </div>
{{/if}}

{{confirm-popup message=confirmMessage
                confirm=(action confirmAction)
                cancel=(action "onCancelConfirm")
                show=displayConfirm}}

{{certification-session-report show=displaySessionReport
                               hide=(action (mut displaySessionReport) false)
                               getJuryFile=(action "onGetJuryFile")
                               saveCandidates=(action "onSaveReportData")
                               candidates=importedCandidates
                               certifications=model.certifications }}

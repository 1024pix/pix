<section class="scoring-simulation">
  <PixBlock>
    <form class="scoring-simulation__form">
      <PixInput {{on "input" this.updateScore}} @id="score" @value={{this.score}} type="number">
        <:label>{{t "pages.certifications.scoring-simulation.labels.score-input"}}</:label>
      </PixInput>

      <PixInput @id="capacity" {{on "input" this.updateCapacity}} @value={{this.capacity}} type="number">
        <:label>{{t "pages.certifications.scoring-simulation.labels.capacity-input"}}</:label>
      </PixInput>

      <PixButton
        class="scoring-simulation__form-button"
        @type="submit"
        @triggerAction={{this.onGenerateSimulationProfile}}
      >{{t "pages.certifications.scoring-simulation.actions.submit"}}</PixButton>
    </form>
  </PixBlock>

  {{#each this.errors as |error|}}
    <PixMessage class="scoring-simulation__error-message" @type="error">{{error}}</PixMessage>
  {{/each}}

  <PixBlock>
    <dl class="scoring-simulation__data">
      <div class="scoring-simulation-data__container">
        <dt class="scoring-simulation-data-container__label">{{t
            "pages.certifications.scoring-simulation.labels.score"
          }}</dt>
        <dd>{{this.simulatorReport.data.attributes.score}}</dd>
      </div>
      <div class="scoring-simulation-data__container">
        <dt class="scoring-simulation-data-container__label">{{t
            "pages.certifications.scoring-simulation.labels.capacity"
          }}</dt>
        <dd>{{this.simulatorReport.data.attributes.capacity}}</dd>
      </div>
    </dl>
  </PixBlock>

  {{#if this.simulatorReport.data.attributes.competences}}
    <PixBlock class="scoring-simulation__competences">
      <table aria-label="{{t 'pages.certifications.scoring-simulation.table.label'}}" class="table-admin">
        <thead class="scoring-simulation-competences-table__header">
          <tr>
            <th scope="col">{{t "pages.certifications.scoring-simulation.table.headers.competence"}}</th>
            <th scope="col">{{t "pages.certifications.scoring-simulation.table.headers.level"}}</th>
          </tr>
        </thead>
        <tbody class="scoring-simulation-competences-table__body">
          {{#each this.simulatorReport.data.attributes.competences as |competence|}}
            <tr>
              <th scope="row">{{competence.competenceCode}}</th>
              <td>{{competence.level}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </PixBlock>
  {{/if}}
</section>
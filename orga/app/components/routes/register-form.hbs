<div class="register-form">
  <form {{on 'submit' this.register}}>

    <div id="register-firstName-container" class="input-container">
      <label for="register-firstName" class="label">{{t 'pages.login-or-register.register-form.fields.first-name.label'}}</label>
      {{#if this.validation.firstName.hasError}}
        <div class="alert-input alert-input--error" role="alert">{{this.validation.firstName.message}}</div>
      {{/if}}
      <Input
        @id="register-firstName"
        @name="firstName"
        @type="firstName"
        @class="input {{if this.validation.firstName.hasError 'input--error'}}"
        @value={{this.user.firstName}}
        @autocomplete="firstname"
        {{on "focusout" (fn this.validateInput "firstName" this.user.firstName)}}
      />
    </div>

    <div id="register-lastName-container" class="input-container">
      <label for="register-lastName" class="label">{{t 'pages.login-or-register.register-form.fields.last-name.label'}}</label>
      {{#if this.validation.lastName.hasError}}
        <div class="alert-input alert-input--error" role="alert">{{this.validation.lastName.message}}</div>
      {{/if}}
      <Input
        @id="register-lastName"
        @name="lastName"
        @type="lastName"
        @class="input {{if this.validation.lastName.hasError 'input--error'}}"
        @value={{this.user.lastName}}
        @autocomplete="lastname"
        {{on "focusout" (fn this.validateInput "lastName" this.user.lastName)}}
      />
    </div>

    <div id="register-email-container" class="input-container">
      <label for="register-email" class="label">{{t 'pages.login-or-register.register-form.fields.email.label'}}</label>
      {{#if this.validation.email.hasError}}
        <div class="alert-input alert-input--error" role="alert">{{this.validation.email.message}}</div>
      {{/if}}
      <Input
        @id="register-email"
        @name="email"
        @type="email"
        @class="input {{if this.validation.email.hasError 'input--error'}}"
        @value={{this.user.email}}
        @autocomplete="username"
        {{on "focusout" (fn this.validateInput "email" this.user.email)}}
      />
    </div>

    <div id="register-password-container" class="input-container">
      <label for="register-password" class="label">{{t 'pages.login-or-register.register-form.fields.password.label'}}</label>
      {{#if this.validation.password.hasError}}
        <div class="alert-input alert-input--error" role="alert">{{this.validation.password.message}}</div>
      {{/if}}
      <div class="input-password {{if this.validation.password.hasError 'input-password--error'}}">
        <Input
          @id="register-password"
          @name="password"
          @type={{this.passwordInputType}}
          @class="input"
          @value={{this.user.password}}
          @autocomplete="current-password"
          {{on "focusout" (fn this.validateInput "password" this.user.password)}}
        />
        <PixIconButton
          @icon="{{if this.isPasswordVisible 'eye' 'eye-slash'}}"
          aria-label="rendre le mot de passe lisible"
          @triggerAction={{this.togglePasswordVisibility}}
          @withBackground={{false}}
          @color="dark-grey"
        />
      </div>
    </div>

    <div id="register-cgu-container" class="input-container">
      <label for="register-cgu" class="label register-form__cgu-label">
        <Input
          @id="register-cgu"
          @type="checkbox"
          @checked={{this.user.cgu}}
          aria-label="{{t 'pages.login-or-register.register-form.fields.cgu.aria-label'}}"
          {{on "focusout" (fn this.validateInput "cgu" this.user.cgu)}}
        />
        <span class="register-form__cgu">
      {{t 'pages.login-or-register.register-form.fields.cgu.accept'}}
          <a href="{{t 'pages.login-or-register.register-form.fields.cgu.link'}}" class="link" target="_blank" rel="noopener noreferrer">
            {{t 'pages.login-or-register.register-form.fields.cgu.terms-of-use'}}
          </a>
    </span>
      </label>
      {{#if this.validation.cgu.hasError}}
        <div class="alert-input alert-input--error alert-input--left" role="alert">{{this.validation.cgu.message}}</div>
      {{/if}}
    </div>

    <div class="input-container">
      {{#if this.isLoading}}
        <button type="button" class="button"><span class="loader-in-button">&nbsp;</span></button>
      {{else}}
        <button type="submit" class="button">{{t 'pages.login-or-register.register-form.fields.button.label'}}</button>
      {{/if}}
    </div>

  </form>

  <div class="legal-text">
    {{t 'pages.login-or-register.register-form.legal-text'}}
  </div>
</div>

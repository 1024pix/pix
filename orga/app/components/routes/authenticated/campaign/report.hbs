<div class="campaign-details-page">
  <div class="campaign-details__header">
    <div class="campaign-details-header__headline">
      <PreviousPageButton
        @route="authenticated.campaigns"
        @backButtonAriaLabel={{t 'common.actions.back'}}
        aria-label={{t 'pages.campaign.name'}}
      >
        {{@campaign.name}}
      </PreviousPageButton>
    </div>

    <div class="campaign-details-header__report">
      <div class="campaign-details-header-report__info">
        <h4 class="label-text campaign-details-content__label">{{t 'pages.campaign.code'}}</h4>
        <span class="content-text campaign-details-content__text">
          {{@campaign.code}}
        </span>
      </div>

      {{#if this.participationsCount}}
        <div class="campaign-details-header-report__info">
          <h4 class="label-text campaign-details-content__label">{{t 'pages.campaign.participations-count'}}</h4>
          <span class="content-text campaign-details-content__text">
            {{this.participationsCount}}
          </span>
        </div>

        <div class="campaign-details-header-report__shared">
          <h4 class="label-text campaign-details-content__label">
            {{#if (eq @campaign.type "PROFILES_COLLECTION")}}
              {{t 'pages.campaign.shared-profiles-count'}}
            {{else}}
              {{t 'pages.campaign.shared-results-count'}}
            {{/if}}
          </h4>
          <span class="content-text campaign-details-content__text">
            {{this.sharedParticipationsCount}}
          </span>
        </div>
      {{else}}
        <div class="campaign-details-header-report__created-on">
          <h4 class="label-text campaign-details-content__label">{{t 'pages.campaign.created-on'}}</h4>
          <span class="content-text campaign-details-content__text">
            {{moment-format this.creationDate 'DD/MM/YYYY' allow-empty=true}}
          </span>
        </div>

        <div class="campaign-details-header-report__created-by">
          <h4 class="label-text campaign-details-content__label">{{t 'pages.campaign.created-by'}}</h4>
          <span class="content-text campaign-details-content__text">
            {{this.creatorName}}
          </span>
        </div>
      {{/if}}
    </div>
  </div>

  {{#if @campaign.isArchived}}
    <div class="campaign-archived-banner">
      <div class="campaign-archived-banner__icon">
        <FaIcon @icon='archive'></FaIcon>
      </div>
      <div class="campaign-archived-banner__text">{{t 'pages.campaign.archived'}}</div>
      <button
        type="button"
        class="button button--link campaign-archived-banner__unarchive-button"
        {{on 'click' (fn this.unarchiveCampaign @campaign.id)}}
      >
        {{t 'pages.campaign.actions.unarchive'}}
      </button>
    </div>
  {{/if}}

  <div class="panel campaign-details__controls">
    <nav class="navbar campaign-details-controls__navbar-tabs">
      <LinkTo
        @route={{if @campaign.isTypeAssessment "authenticated.campaigns.campaign.assessments" "authenticated.campaigns.campaign.profiles"}}
        @model={{@campaign}}
        class="navbar-item"
      >
        {{t 'pages.campaign.tab.participants' count=@campaign.participationsCount}}
      </LinkTo>
      {{#if @campaign.isTypeAssessment}}
        <LinkTo @route="authenticated.campaigns.campaign.collective-results" @model={{@campaign}} class="navbar-item">
          {{t 'pages.campaign.tab.collective-results'}}
        </LinkTo>
        <LinkTo @route="authenticated.campaigns.campaign.analysis" class="navbar-item" @model={{@campaign}} >
          {{t 'pages.campaign.tab.review'}}
        </LinkTo>
      {{/if}}

      <div class="navbar-item-separator" aria-hidden="true"></div>
      <LinkTo @route="authenticated.campaigns.campaign.details" class="navbar-item" @model={{@campaign}} >
        {{t 'pages.campaign.tab.settings'}}
      </LinkTo>
    </nav>

    <div class="campaign-details-controls__export-button">
      <a class="button button--link" href="{{this.downloadUrl}}" target="_blank" rel="noopener noreferrer" download>
        {{t 'pages.campaign.actions.export-results'}}
      </a>
    </div>
  </div>

  {{outlet}}

</div>

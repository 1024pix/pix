{{page-title (t 'pages.campaign-results.title')}}
{{#if @model.campaign.hasSharedParticipations}}
  {{#if @model.campaign.hasStages}}
    <Charts::ParticipantsByStage
      @campaignId={{@model.campaign.id}}
      @onSelectStage={{this.filterByStage}}
      class="participant-row__result"
    />
  {{else}}
    <Campaign::Results::AssessmentCards
    @sharedParticipationsCount={{@model.campaign.sharedParticipationsCount}}
    @averageResult={{@model.campaign.campaignCollectiveResult.averageResult}}
  />
  {{/if}}

  <Campaign::Results::AssessmentList
    @campaign={{@model.campaign}}
    @participations={{@model.participations}}
    @selectedDivisions={{this.divisions}}
    @selectedBadges={{this.badges}}
    @selectedStages={{this.stages}}
    @onClickParticipant={{this.goToAssessmentPage}}
    @onFilter={{this.triggerFiltering}}
    @onResetFilter={{this.resetFiltering}}
  />
{{else}}
  <Campaign::EmptyState
    @campaignCode={{@model.campaign.code}}
  />
{{/if}}

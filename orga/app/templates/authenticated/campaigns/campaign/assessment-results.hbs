{{page-title (t 'pages.campaign-collective-results.title')}}

{{#if @model.campaign.hasStages}}
  <Charts::ParticipantsByStage
    @campaignId={{@model.campaign.id}}
    @onSelectStage={{this.filterByStage}}
    class="participant-row__result"
  />
{{else}}
  <Campaign::Results::Stats
    @validatedSkills={{@model.campaign.campaignCollectiveResult.averageValidatedSkillsSum}}
    @totalSkills={{@model.campaign.campaignCollectiveResult.totalSkills}}
    @averageResult={{@model.campaign.campaignCollectiveResult.averageResult}}
  />
{{/if}}

<Campaign::Results::AssessmentList
  @campaign={{@model.campaign}}
  @participations={{@model.participations}}
  @selectedDivisions={{this.divisions}}
  @selectedBadges={{this.badges}}
  @selectedStages={{this.stages}}
  @onClickParticipant={{this.goToAssessmentPage}}
  @onFilter={{this.triggerFiltering}}
  @onResetFilter={{this.resetFiltering}}
/>

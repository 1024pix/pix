{{page-title (t 'pages.campaign-results.title')}}
{{#if @model.campaign.hasSharedParticipations}}
  <Campaign::Results::AssessmentCards
    @hasStages={{@model.campaign.hasStages}}
    @stages={{@model.campaign.stages}}
    @sharedParticipationsCount={{@model.campaign.sharedParticipationsCount}}
    @averageResult={{@model.campaign.campaignCollectiveResult.averageResult}}
  />

  {{#if @model.campaign.hasStages}}
    <Charts::ParticipantsByStage
      @campaignId={{@model.campaign.id}}
      @onSelectStage={{this.filterByStage}}
      class="assessment-results__participants-by-stage hide-on-mobile"
    />
  {{/if}}

  <Campaign::Results::AssessmentList
    @campaign={{@model.campaign}}
    @participations={{@model.participations}}
    @selectedDivisions={{this.divisions}}
    @selectedBadges={{this.badges}}
    @selectedStages={{this.stages}}
    @onClickParticipant={{this.goToAssessmentPage}}
    @onFilter={{this.triggerFiltering}}
    @onResetFilter={{this.resetFiltering}}
  />
{{else}}
  <Campaign::EmptyState @campaignCode={{@model.campaign.code}} />
{{/if}}

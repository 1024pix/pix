<div class="campaign-list" role="tabpanel">
  <div class="panel">
    <div class="table content-text content-text--small">
      <table>
        <thead>
          <tr>
            <th class="table__column table__column--wide">Campagnes</th>
            <th class="table__column">Créé par</th>
            <th class="table__column table__column--small">Créé le</th>
            <th class="table__column table__column--small">Participants</th>
            <th class="table__column table__column--small">Résultats reçus</th>
          </tr>
          <tr>
            <th>
              <SearchInput @inputName="campaignName" @class="input table__input search-input" @value={{@campaignName}} @placeholder="Rechercher une campagne" @keyUp={{fn @triggerFiltering "name" @campaignName}}/>
            </th>
            <th>
              <Routes::Authenticated::Campaigns::SelectCreator
                @organizationMembers={{organizationMembers}}
                @campaignCreatorId={{campaignCreatorId}}
                @selectCampaignCreator={{action 'selectCampaignCreator'}} />
            </th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </thead>

        <tbody>
        {{#each @campaigns as |campaign|}}
          <tr {{on 'click' (fn @goToCampaignPage campaign.id)}} class="tr--clickable">
            <td>{{campaign.name}}</td>
            <td class="table__column--truncated">{{campaign.creator.fullName}}</td>
            <td>{{moment-format campaign.createdAt 'DD/MM/YYYY' allow-empty=true}}</td>
            <td>{{campaign.campaignReport.participationsCount}}</td>
            <td>{{campaign.campaignReport.sharedParticipationsCount}}</td>
          </tr>
        {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</div>

<PaginationControl @pagination={{@campaigns.meta}} @paginationLink="authenticated.campaigns" />

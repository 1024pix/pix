<div class="list-students-page__header">
  <div class="page__title page-title">Élèves</div>
  {{#if currentUser.isOwnerInOrganization}}
    <div class="list-students-page__import-students-button">
      {{#file-upload name="file-upload"
                     accept=".xml"
                     multiple=false
                     onfileadd=(action uploadStudents)}}
        <a class="button">
          Importer
        </a>
      {{/file-upload}}
    </div>
  {{/if}}
</div>

{{#if message}}
  <div class={{concat "alert-zone alert-zone--" message}} aria-live="polite">
    {{fa-icon (if isErrorMessage 'exclamation-triangle' 'check-circle')}}
    <p class="alert-zone__message">
      {{#if isErrorMessage}}
        Quelque chose s'est mal passé. Veuillez réessayer.
      {{else}}
        Les élèves ont été importés avec succès.
      {{/if}}
    </p>
  </div>
{{/if}}

<div class="panel">
  <div class="table content-text content-text--small">
    <table>
      <thead>
      <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Date de naissance</th>
      </tr>
      </thead>

      {{#if students}}
        <tbody>
        {{#each students as |student|}}
          <tr>
            <td>{{student.lastName}}</td>
            <td>{{student.firstName}}</td>
            <td>{{moment-format student.birthdate 'DD/MM/YYYY' allow-empty=true}}</td>
          </tr>
        {{/each}}

        </tbody>
      {{/if}}
    </table>

    {{#unless students}}
      <div class="table__empty content-text">En attente d'élèves</div>
    {{/unless}}
  </div>
</div>

<article
  class="grain grain--lesson {{if @hasJustAppeared 'grain--active'}}"
  aria-live={{this.ariaLiveGrainValue}}
  tabindex="-1"
  {{did-insert this.focusAndScroll}}
>
  <h2 class="screen-reader-only">{{@grain.title}}</h2>

  {{#if @transition}}
    <header class="grain__header">
      {{html-unsafe @transition.content}}
    </header>
  {{/if}}

  <div class="grain__content">
    {{#each @grain.elements as |element|}}
      <div class="grain-content__element">
        {{#if element.isText}}
          <Module::Text @text={{element}} />
        {{else if element.isImage}}
          <Module::Image @image={{element}} />
        {{else if element.isVideo}}
          <Module::Video @video={{element}} />
        {{else if element.isQcu}}
          <Module::Qcu @qcu={{element}} @submitAnswer={{@submitAnswer}} />
        {{else if element.isQrocm}}
          <Module::Qrocm @qrocm={{element}} @submitAnswer={{@submitAnswer}} />
        {{/if}}
      </div>
    {{/each}}
  </div>

  {{#if this.shouldDisplaySkipButton}}
    <footer class="grain__footer">
      <PixButton
        @backgroundColor="transparent-light"
        @isBorderVisible={{true}}
        @shape="rounded"
        @triggerAction={{this.skipAction}}
      >
        {{t "pages.modulix.buttons.grain.skip"}}
      </PixButton>
    </footer>
  {{/if}}

  {{#if this.shouldDisplayContinueButton}}
    <footer class="grain__footer">
      <PixButton @backgroundColor="primary" @shape="rounded" @triggerAction={{this.continueAction}}>
        {{t "pages.modulix.buttons.grain.continue"}}
      </PixButton>
    </footer>
  {{/if}}
</article>
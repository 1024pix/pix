{{! template-lint-disable require-input-label }}
<section class="certification-starter">
  <h2 class="certification-start-page__title">{{t "pages.certification-start.first-title"}}</h2>

  {{#if @certificationCandidateSubscription.hasSubscriptions}}
    <div class="certification-starter-subscriptions">
      {{#if @certificationCandidateSubscription.eligibleSubscriptions.length}}
        <div class="certification-starter-subscriptions__eligible" data-test-id="eligible-subscriptions">
          <p class="certification-starter-subscriptions__eligible-title">{{t
              "pages.certification-start.eligible-subscriptions"
              itemCount=@certificationCandidateSubscription.eligibleSubscriptions.length
            }}</p>
          {{#each @certificationCandidateSubscription.eligibleSubscriptions as |eligibleSubscription|}}
            <span class="certification-starter-subscriptions__eligible-item">
              <FaIcon @icon="check-circle" class="certification-starter-subscriptions__eligible-icon" />
              {{eligibleSubscription.name}}
            </span>
          {{/each}}
        </div>
      {{/if}}
      {{#if this.nonEligibleSubscriptionNames.length}}
        <div class="certification-starter-subscriptions__non-eligible" data-test-id="non-eligible-subscriptions">
          <FaIcon @icon="exclamation-circle" class="certification-starter-subscriptions__non-eligible-icon" />
          <span>{{t
              "pages.certification-start.non-eligible-subscriptions"
              subscriptions=this.nonEligibleSubscriptionNames
              itemCount=@certificationCandidateSubscription.nonEligibleSubscriptions.length
            }}<br />{{t "pages.certification-start.non-eligible-subscriptions2"}}</span>
        </div>
      {{/if}}
    </div>
  {{/if}}
  <p class="certification-course-page__order">
    {{t "pages.certification-start.access-code"}}
  </p>
  <form autocomplete="off">
    <div class="certification-course-page__session-code-input">
      <Input
        required={{true}}
        id="certificationStarterSessionCode"
        @type="text"
        @value={{this.inputAccessCode}}
        maxlength="6"
        spellcheck={{false}}
      />
      {{#if this.errorMessage}}
        <div class="certification-course-page__errors">{{this.errorMessage}}</div>
      {{/if}}
    </div>

    <div class="certification-course-page__field-button">

      <PixButton @type="submit" @triggerAction={{this.submit}}>
        {{t "pages.certification-start.actions.submit"}}
      </PixButton>
    </div>
  </form>

  <div class="certification-course-page__cgu">
    <p>
      {{t "pages.certification-start.cgu.info"}}
    </p>
    <p>
      {{t "pages.certification-start.cgu.contact.info"}}
      <a href="mailto:{{t "pages.certification-start.cgu.contact.email"}}">{{t
          "pages.certification-start.cgu.contact.email"
        }}</a>.
    </p>
  </div>
</section>